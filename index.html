<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta id="meta-desc" name="description" content="Personal portfolio" />
    <title id="page-title">Portfolio</title>
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" />
  </head>
  <body>
    <!-- ██ Edit config.js to personalise — do not edit content here ██ -->

    <!-- ── Hero ──────────────────────────────────────────── -->
    <header class="hero">
      <div class="container hero-grid fadeIn">
        <div class="profile-card">
          <img id="profile-img" src="" alt="Profile photo" class="profile-img" />
          <div id="social-links" class="profile-links"></div>
        </div>
        <div class="hero-content">
          <p id="hero-title" class="tag"></p>
          <h1 id="hero-name"></h1>
          <div id="value-chips" class="value-chips"></div>
          <p id="hero-subtitle" class="subtitle"></p>
          <div id="header-contact" class="header-contact"></div>
        </div>
      </div>
    </header>

    <!-- ── Main Content ───────────────────────────────────── -->
    <main class="container">

      <!-- Technical Expertise -->
      <section class="card fadeIn expandable" style="animation-delay: 0.2s;">
        <h2><i class="fas fa-code"></i> Technical Expertise
          <button class="toggle-btn" aria-expanded="false" onclick="toggleCard(this)">Show</button>
        </h2>
        <div class="card-body" aria-hidden="true">
          <div id="skills-container" class="skills-category"></div>
        </div>
      </section>

      <!-- Professional Summary -->
      <section class="card fadeIn" style="animation-delay: 0.1s;">
        <h2><i class="fas fa-user-tie"></i> Professional Summary</h2>
        <div id="summary-container"></div>
      </section>

      <!-- Business Impact -->
      <section id="business-impact" class="card fadeIn" style="animation-delay: 0.15s;">
        <h2><i class="fas fa-dollar-sign"></i> Business Impact</h2>
        <p id="impact-intro"></p>
        <ul id="impact-list" class="cert-list"></ul>
      </section>

      <!-- Experience -->
      <section class="card fadeIn expandable" style="animation-delay: 0.3s;">
        <h2><i class="fas fa-briefcase"></i> Experience
          <button class="toggle-btn" aria-expanded="false" onclick="toggleCard(this)">Show</button>
        </h2>
        <div class="card-body" aria-hidden="true">
          <div id="experience-container" class="timeline"></div>
        </div>
      </section>

      <!-- Education -->
      <section class="card fadeIn" style="animation-delay: 0.4s;">
        <h2><i class="fas fa-graduation-cap"></i> Education</h2>
        <div id="education-container"></div>
      </section>

      <!-- Certifications -->
      <section class="card fadeIn expandable" style="animation-delay: 0.5s;">
        <h2><i class="fas fa-certificate"></i> Certifications
          <button class="toggle-btn" aria-expanded="false" onclick="toggleCard(this)">Show</button>
        </h2>
        <div class="card-body" aria-hidden="true">
          <ul id="cert-container" class="cert-list"></ul>
        </div>
      </section>

    </main>

    <!-- ── Config + Renderer ──────────────────────────────── -->
    <script src="config.js"></script>
    <script>
      (function render(c) {

        // ── Head meta ──
        document.getElementById('page-title').textContent = c.name + ' | ' + c.title;
        document.getElementById('meta-desc').content = c.name + ' — ' + c.title + ' portfolio';

        // ── Hero ──
        document.getElementById('profile-img').src = c.profileImage;
        document.getElementById('hero-title').textContent = c.title;
        document.getElementById('hero-name').textContent = c.name;
        document.getElementById('hero-subtitle').textContent = c.subtitle;

        // Social links
        const socialEl = document.getElementById('social-links');
        c.social.forEach(s => {
          socialEl.innerHTML += `
            <a href="${s.url}" target="_blank" class="social-btn">
              <i class="${s.icon}"></i>
              <span class="sr-only">${s.label}</span>
            </a>`;
        });

        // Value chips
        const chipsEl = document.getElementById('value-chips');
        c.valueChips.forEach(chip => {
          chipsEl.innerHTML += `<a class="value-chip" href="#business-impact">${chip}</a>`;
        });

        // Contact
        const contactEl = document.getElementById('header-contact');
        contactEl.innerHTML = `
          <span class="contact-chip"><i class="fas fa-envelope"></i><span>${c.contact.email}</span></span>
          <span class="contact-chip"><i class="fas fa-phone"></i><span>${c.contact.phone}</span></span>
          <span class="chip"><i class="fas fa-map-marker-alt"></i> ${c.contact.location}</span>`;

        // ── Summary ──
        const summaryEl = document.getElementById('summary-container');
        c.summary.forEach(para => {
          summaryEl.innerHTML += `<p>${para}</p>`;
        });

        // ── Business Impact ──
        document.getElementById('impact-intro').textContent = c.businessImpact.intro;
        const impactList = document.getElementById('impact-list');
        c.businessImpact.items.forEach(item => {
          impactList.innerHTML += `<li><strong>${item.title}</strong> — ${item.text}</li>`;
        });

        // ── Skills ──
        const skillsEl = document.getElementById('skills-container');
        c.skills.forEach(group => {
          const tags = group.items.map(t =>
            `<span class="skill-tag" title="${t.tooltip}">${t.name}</span>`
          ).join('');
          skillsEl.innerHTML += `
            <h3>${group.category}</h3>
            <div class="skills-grid">${tags}</div>`;
        });

        // ── Experience ──
        const expEl = document.getElementById('experience-container');
        c.experience.forEach(job => {
          const bullets = job.bullets.map(b => `<li>${b}</li>`).join('');
          expEl.innerHTML += `
            <div class="timeline-item">
              <h3>${job.role}, ${job.company} — ${job.location}</h3>
              <span class="date">${job.dates}</span>
              <ul>${bullets}</ul>
            </div>`;
        });

        // ── Education ──
        const eduEl = document.getElementById('education-container');
        c.education.forEach(e => {
          eduEl.innerHTML += `
            <div class="edu-item">
              <strong>${e.degree}</strong>
              <p>${e.institution}, ${e.location} — ${e.dates}</p>
            </div>`;
        });

        // ── Certifications ──
        const certEl = document.getElementById('cert-container');
        c.certifications.forEach(cert => {
          certEl.innerHTML += `
            <li><a href="${cert.url}" target="_blank" rel="noopener">${cert.name}</a></li>`;
        });

        // ── Interactivity ──
        const obs = new IntersectionObserver(entries => {
          entries.forEach(e => {
            if (e.isIntersecting) {
              e.target.classList.add('visible');
              e.target.style.animation = 'fadeInUp 0.6s ease-out forwards';
            }
          });
        }, { threshold: 0.12 });
        document.querySelectorAll('.card').forEach(el => obs.observe(el));

        document.querySelectorAll('a[href^="#"]').forEach(anchor => {
          anchor.addEventListener('click', function (e) {
            e.preventDefault();
            const target = document.querySelector(this.getAttribute('href'));
            if (target) target.scrollIntoView({ behavior: 'smooth', block: 'start' });
          });
        });

        window.toggleCard = function (btn) {
          const card = btn.closest('.expandable');
          const body = card.querySelector('.card-body');
          const expanded = btn.getAttribute('aria-expanded') === 'true';
          btn.setAttribute('aria-expanded', expanded ? 'false' : 'true');
          btn.textContent = expanded ? 'Show' : 'Hide';
          if (body) {
            // animate to exact content height — works for any length
            body.style.maxHeight = expanded ? '0' : body.scrollHeight + 'px';
            body.setAttribute('aria-hidden', expanded ? 'true' : 'false');
          }
        };

      })(PORTFOLIO_CONFIG);
    </script>
  </body>
</html>
